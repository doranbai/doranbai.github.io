<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Hexo主题NexT详细配置</title>
      <link href="/posts/1188489975/"/>
      <url>/posts/1188489975/</url>
      
        <content type="html"><![CDATA[<p>前面我们将Hexo的主题修改为了Next，下面我们会介绍基于Next主题(7.4.0版本)的详细配置</p><h2 id="需要的配置文件"><a href="#需要的配置文件" class="headerlink" title="需要的配置文件"></a>需要的配置文件</h2><p>在Hexo和NexT主题中总共有2份主要的配置文件，其名称都是_config.yml。 其中，一份位于博客根目录下，主要包含 Hexo 本身的配置；另一份位于themes/next/目录下，用于配置主题相关的选项。</p><a id="more"></a><ul><li>博客配置文件：博客根目录下_config.yml</li><li>主题配置文件：themes/next/目录下_config.yml<br>请一定要区分清楚</li></ul><h2 id="设置外观-Scheme"><a href="#设置外观-Scheme" class="headerlink" title="设置外观(Scheme)"></a>设置外观(Scheme)</h2><p>Scheme 是 NexT 提供的一种特性，借助于 Scheme，NexT 为你提供多种不同的外观。Scheme 的切换通过更改主题配置文件。同时，几乎所有的配置都可以 在 Scheme 之间共用。目前 NexT 支持四种 Scheme，他们是：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Schemes</span></span><br><span class="line"><span class="comment">#scheme: Muse</span></span><br><span class="line"><span class="comment">#scheme: Mist</span></span><br><span class="line"><span class="attr">scheme:</span> <span class="string">Pisces</span></span><br><span class="line"><span class="comment">#scheme: Gemini</span></span><br></pre></td></tr></table></figure><p>Next的默认Scheme是Muse，如果想要修改将你需用启用的 scheme 前面注释 # 去除即可。</p><h2 id="设置语言"><a href="#设置语言" class="headerlink" title="设置语言"></a>设置语言</h2><ul><li><p>前往博客目录/themes/next/languages，查看当前NexT版本简体中文对照文件的名称，我们这里是zh-CN<br><img src="/posts/1188489975/nextlanguage.png" alt="NexT languages查看"></p></li><li><p>修改博客配置文件，查找language，设置成language: zh-CN，即显示简体中文。</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">language:</span> <span class="string">zh-CN</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="设置菜单及对应页面"><a href="#设置菜单及对应页面" class="headerlink" title="设置菜单及对应页面"></a>设置菜单及对应页面</h2><p><img src="/posts/1188489975/defaultmenu.png" alt="NexT 默认菜单"><br>默认的只有首页和归档两个，可以修改主题配置文件进行增加。<br>编辑主题配置文件，修改以下内容：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line"><span class="attr">  home:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">home</span></span><br><span class="line"><span class="attr">  categories:</span> <span class="string">/categories/</span> <span class="string">||</span> <span class="string">th</span></span><br><span class="line"><span class="attr">  archives:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">archive</span></span><br><span class="line"><span class="attr">  tags:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">tags</span></span><br><span class="line"><span class="attr">  about:</span> <span class="string">/about/</span> <span class="string">||</span> <span class="string">user</span></span><br><span class="line">  <span class="comment">#schedule: /schedule/ || calendar</span></span><br><span class="line">  <span class="comment">#sitemap: /sitemap.xml || sitemap</span></span><br><span class="line">  <span class="comment">#commonweal: /404/ || heartbeat</span></span><br></pre></td></tr></table></figure><p>去掉#注释即可显示对应的菜单项，也可自定义新的菜单项。||之前的值是目标链接，之后的是分类页面的图标，图标名称来自于<a href="https://fontawesome.com/icons" target="_blank" rel="external nofollow noopener">FontAwesome icon</a>。若没有配置图标，默认会使用问号图标。菜单配置项的顺序决定了实际菜单的显示顺序</p><p>修改完成后，假如我们增加了categories，直接点击网站的分类菜单，会出现提示<br>Cannot GET /categories/<br>这是因为博客没有相应的菜单页面，所以我们需要创建相应页面</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page <span class="string">"categories"</span></span><br></pre></td></tr></table></figure><p>此时在博客目录的source文件夹下会生成一个categories文件夹，文件中有一个index.md文件，文件内容修改增加 type 属性</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: Favorite</span><br><span class="line">date: 2019-05-20 19:11:41</span><br><span class="line">type: "favorite"</span><br><span class="line">---</span><br></pre></td></tr></table></figure><h2 id="侧边栏社交链接"><a href="#侧边栏社交链接" class="headerlink" title="侧边栏社交链接"></a>侧边栏社交链接</h2><p><img src="/posts/1188489975/defaultsocial.png" alt="NexT 默认社交连接"><br>默认没有社交链接，可以修改主题配置文件进行增加。</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">social:</span></span><br><span class="line"><span class="attr">  GitHub:</span> <span class="attr">https://github.com/doranbai</span> <span class="string">||</span> <span class="string">github</span></span><br><span class="line"><span class="attr">  E-Mail:</span> <span class="attr">mailto:doranbai@163.com</span> <span class="string">||</span> <span class="string">envelope</span></span><br><span class="line">  <span class="comment">#Weibo: https://weibo.com/yourname || weibo</span></span><br><span class="line">  <span class="comment">#Google: https://plus.google.com/yourname || google</span></span><br><span class="line">  <span class="comment">#Twitter: https://twitter.com/yourname || twitter</span></span><br><span class="line">  <span class="comment">#FB Page: https://www.facebook.com/yourname || facebook</span></span><br><span class="line">  <span class="comment">#VK Group: https://vk.com/yourname || vk</span></span><br><span class="line">  <span class="comment">#StackOverflow: https://stackoverflow.com/yourname || stack-overflow</span></span><br><span class="line">  <span class="comment">#YouTube: https://youtube.com/yourname || youtube</span></span><br><span class="line">  <span class="comment">#Instagram: https://instagram.com/yourname || instagram</span></span><br><span class="line">  <span class="comment">#Skype: skype:yourname?call|chat || skype</span></span><br></pre></td></tr></table></figure><p>去掉#注释即可显示对应的social项。||之前的值是目标链接，之后的是分类页面的图标</p><h2 id="设置侧栏"><a href="#设置侧栏" class="headerlink" title="设置侧栏"></a>设置侧栏</h2><p>默认情况下，侧栏仅在文章页面（拥有目录列表）时才显示，并放置于左侧位置。 可以通过修改 主题配置文件 中的 sidebar 字段来控制侧栏的行为。侧栏的设置包括两个部分，其一是侧栏的位置， 其二是侧栏显示的时机。</p><ul><li><p>测量位置</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">sidebar:</span></span><br><span class="line"><span class="attr">  position:</span> <span class="string">left</span></span><br><span class="line">  <span class="comment">#position: right</span></span><br></pre></td></tr></table></figure></li><li><p>侧栏显示的时机<br>设置侧栏显示的时机，修改 sidebar.display 的值，支持的选项有：</p></li></ul><p>post - 默认行为，在文章页面（拥有目录列表）时显示<br>always - 在所有页面中都显示<br>hide - 在所有页面中都隐藏（可以手动展开）<br>remove - 完全移除</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">sidebar:</span></span><br><span class="line"><span class="attr">  display:</span> <span class="string">post</span></span><br></pre></td></tr></table></figure><h2 id="修改站点图标"><a href="#修改站点图标" class="headerlink" title="修改站点图标"></a>修改站点图标</h2><p>NexT的默认图标是H，在标签栏的左上角可以看到<br><img src="/posts/1188489975/defaulfavicon.png" alt="NexT 默认站点图片"><br>去图标网站或者自己制作16x16，32x32的图标<br>复制到博客目录/themes/next/source/images/下面<br>打开主题配置文件，修改small和medium的路径为下载的图标路径</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">favicon:</span></span><br><span class="line"><span class="attr">  small:</span> <span class="string">/images/favicon-16x16-next.png</span></span><br><span class="line"><span class="attr">  medium:</span> <span class="string">/images/favicon-32x32-next.png</span></span><br><span class="line"><span class="attr">  apple_touch_icon:</span> <span class="string">/images/apple-touch-icon-next.png</span></span><br><span class="line"><span class="attr">  safari_pinned_tab:</span> <span class="string">/images/logo.svg</span></span><br><span class="line">  <span class="comment">#android_manifest: /images/manifest.json</span></span><br><span class="line">  <span class="comment">#ms_browserconfig: /images/browserconfig.xml</span></span><br></pre></td></tr></table></figure><h2 id="个人相关信息设置"><a href="#个人相关信息设置" class="headerlink" title="个人相关信息设置"></a>个人相关信息设置</h2><ul><li><p>头像<br>NexT默认是不显示头像的。如果需要添加头像，那么先将自己的头像，放至博客目录/themes/next/source/images/文件夹下，编辑主题配置文件， 查找Sidebar Avatar。修改url的值，如<code>url: /images/touxiang.gif</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Sidebar Avatar</span></span><br><span class="line"><span class="attr">avatar:</span></span><br><span class="line">  <span class="comment"># In theme directory (source/images): /images/avatar.gif</span></span><br><span class="line">  <span class="comment"># In site directory (source/uploads): /uploads/avatar.gif</span></span><br><span class="line">  <span class="comment"># You can also use other linking images.</span></span><br><span class="line"><span class="attr">  url:</span> <span class="comment">#/images/avatar.gif</span></span><br><span class="line">  <span class="comment"># If true, the avatar would be dispalyed in circle.</span></span><br><span class="line"><span class="attr">  rounded:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># If true, the avatar would be rotated with the cursor.</span></span><br><span class="line"><span class="attr">  rotated:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure></li><li><p>作者<br>编辑站点配置文件，设置author为你的昵称。</p></li><li><p>站点描述<br>编辑站点配置文件，设置description字段为你的站点描述。站点描述可以是你喜欢的一句签名:)</p></li></ul><h2 id="代码设置"><a href="#代码设置" class="headerlink" title="代码设置"></a>代码设置</h2><ul><li><p>代码高亮<br>NexT 使用 Tomorrow Theme 作为代码高亮，共有5款主题供你选择。 NexT 默认使用的是 白色的 normal 主题，可选的值有 normal，night， night blue， night bright， night eighties<br><img src="/posts/1188489975/codetheme.png" alt="NexT 代码高亮"><br>更改 highlight_theme 字段，将其值设定成你所喜爱的高亮主题，例如：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">codeblock:</span></span><br><span class="line">  <span class="comment"># Code Highlight theme</span></span><br><span class="line">  <span class="comment"># Available values: normal | night | night eighties | night blue | night bright</span></span><br><span class="line">  <span class="comment"># See: https://github.com/chriskempson/tomorrow-theme</span></span><br><span class="line"><span class="attr">  highlight_theme:</span> <span class="string">normal</span></span><br></pre></td></tr></table></figure></li><li><p>代码复制</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">codeblock:</span></span><br><span class="line"><span class="attr">  copy_button:</span></span><br><span class="line"><span class="attr">    enable:</span> <span class="literal">true</span>               <span class="comment">#增加复制按钮的开关</span></span><br><span class="line">    <span class="comment"># Show text copy result.</span></span><br><span class="line"><span class="attr">    show_result:</span> <span class="literal">true</span>          <span class="comment">#点击复制完后是否显示 复制成功 结果提示</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="版权信息"><a href="#版权信息" class="headerlink" title="版权信息"></a>版权信息</h2><p>编辑主题配置文件，查找creative_commons，将post改为true即可显示版权信息</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">creative_commons:</span></span><br><span class="line"><span class="attr">  license:</span> <span class="string">by-nc-nd</span></span><br><span class="line"><span class="attr">  sidebar:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">  post:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  language:</span></span><br></pre></td></tr></table></figure><h2 id="显示当前浏览进度"><a href="#显示当前浏览进度" class="headerlink" title="显示当前浏览进度"></a>显示当前浏览进度</h2><p>编辑主题配置文件，查找back2top，将scrollpercent改为true</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">back2top:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Back to top in sidebar.</span></span><br><span class="line"><span class="attr">  sidebar:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Scroll percent label in b2t button.</span></span><br><span class="line"><span class="attr">  scrollpercent:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h2 id="打赏设置"><a href="#打赏设置" class="headerlink" title="打赏设置"></a>打赏设置</h2><p>先将自己的微信和支付宝收款二维码图片，放至博客目录/themes/next/source/images/文件夹下，编辑主题配置文件，修改enable为true，去掉wechatpay和alipay的#注释，并填写正确的图片名即可开启该功能。</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Reward (Donate)</span></span><br><span class="line"><span class="attr">reward_settings:</span></span><br><span class="line">  <span class="comment"># If true, reward would be displayed in every article by default.</span></span><br><span class="line">  <span class="comment"># You can show or hide reward in a specific article throuth `reward: true | false` in Front-matter.</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  animation:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment">#comment: Donate comment here.</span></span><br><span class="line"></span><br><span class="line"><span class="attr">reward:</span></span><br><span class="line"><span class="attr">  wechatpay:</span> <span class="string">/images/wechatpay.png</span></span><br><span class="line"><span class="attr">  alipay:</span> <span class="string">/images/alipay.png</span></span><br><span class="line">  <span class="comment">#bitcoin: /images/bitcoin.png</span></span><br></pre></td></tr></table></figure><h2 id="footer设置"><a href="#footer设置" class="headerlink" title="footer设置"></a>footer设置</h2><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">footer:</span></span><br><span class="line"><span class="attr">  since:</span> <span class="number">2018</span>         <span class="comment">#建站开始时间</span></span><br><span class="line"><span class="attr">  icon:</span></span><br><span class="line"><span class="attr">    name:</span> <span class="string">user</span>        <span class="comment">#设置建站初始时间和至今时间中间的图标，默认是一个'小人像'更改user为heart可以变成一个'心'</span></span><br><span class="line"><span class="attr">    animated:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">    color:</span> <span class="string">"#808080"</span>  <span class="comment">#更改图标的颜色，红色为'#ff0000'</span></span><br><span class="line"><span class="attr">  powered:</span></span><br><span class="line"><span class="attr">    enable:</span> <span class="literal">true</span>      <span class="comment">#是否开启hexo驱动</span></span><br><span class="line"><span class="attr">    version:</span> <span class="literal">true</span>     <span class="comment">#是否开启hexo版本号</span></span><br><span class="line"><span class="attr">  theme:</span></span><br><span class="line"><span class="attr">    enable:</span> <span class="literal">true</span>      <span class="comment">#是否开启theme驱动</span></span><br><span class="line"><span class="attr">    version:</span> <span class="literal">true</span>     <span class="comment">#是否开启主题版本号</span></span><br><span class="line"><span class="attr">  beian:</span>              <span class="comment">#icp备案相关信息</span></span><br><span class="line"><span class="attr">    enable:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">    icp:</span></span><br><span class="line"><span class="attr">    gongan_id:</span>        <span class="comment">#公安网备案</span></span><br><span class="line"><span class="attr">    gongan_num:</span></span><br><span class="line"><span class="attr">    gongan_icon_url:</span></span><br></pre></td></tr></table></figure><h2 id="访问量统计"><a href="#访问量统计" class="headerlink" title="访问量统计"></a>访问量统计</h2><ul><li>busuanzi配置<br>编辑主题配置文件，查找busuanzi<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">busuanzi_count:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span>                   <span class="comment">#true启用busuanzi</span></span><br><span class="line"><span class="attr">  total_visitors:</span> <span class="literal">true</span>           <span class="comment">#整个网站的UV数</span></span><br><span class="line"><span class="attr">  total_visitors_icon:</span> <span class="string">user</span>      </span><br><span class="line"><span class="attr">  total_views:</span> <span class="literal">true</span>              <span class="comment">#整个网站的PV数</span></span><br><span class="line"><span class="attr">  total_views_icon:</span> <span class="string">eye</span></span><br><span class="line"><span class="attr">  post_views:</span> <span class="literal">true</span>               <span class="comment">#整个页面的PV数</span></span><br><span class="line"><span class="attr">  post_views_icon:</span> <span class="string">eye</span></span><br></pre></td></tr></table></figure></li></ul><p><img src="/posts/1188489975/busuanziuvandpv.png" alt="NexT busuanzi配置"><br>使用hexo s部署在本地预览效果的时候，uv数和pv数会过大，这是正常现象，只需要将博客部署至云端即可恢复正常。</p><h2 id="增加字数统计与阅读时间"><a href="#增加字数统计与阅读时间" class="headerlink" title="增加字数统计与阅读时间"></a>增加字数统计与阅读时间</h2><p>在博客的根目录下执行以下命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-symbols-count-time --save</span><br></pre></td></tr></table></figure><p>字数统计用的hexo-symbols-count-time，这个插件比之前的hexo-reading-time和hexo-wordcount跑得更快，所以不要在按老教程安装hexo-wordcount插件，已经过时了。By the way,卸载插件可以使用<code>npm uninstall hexo-wordcount</code>。好了，安装完成后，就开始配置了。<br>编辑站点配置文件，新增以下内容到任意位置：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">symbols_count_time:</span></span><br><span class="line"><span class="attr">  symbols:</span> <span class="literal">true</span>                <span class="comment"># 文章字数统计</span></span><br><span class="line"><span class="attr">  time:</span> <span class="literal">true</span>                   <span class="comment"># 文章阅读时长</span></span><br><span class="line"><span class="attr">  total_symbols:</span> <span class="literal">true</span>          <span class="comment"># 站点总字数统计</span></span><br><span class="line"><span class="attr">  total_time:</span> <span class="literal">true</span>             <span class="comment"># 站点总阅读时长</span></span><br><span class="line"><span class="attr">  exclude_codeblock:</span> <span class="literal">false</span>     <span class="comment"># 排除代码字数统计</span></span><br></pre></td></tr></table></figure><p>编辑主题配置文件，查找symbols_count_time相关配置：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">symbols_count_time:</span></span><br><span class="line"><span class="attr">  separated_meta:</span> <span class="literal">true</span>     <span class="comment"># 是否另起一行（true的话不和发表时间等同一行）</span></span><br><span class="line"><span class="attr">  item_text_post:</span> <span class="literal">true</span>     <span class="comment"># 首页文章统计数量前是否显示文字描述（本文字数、阅读时长）</span></span><br><span class="line"><span class="attr">  item_text_total:</span> <span class="literal">false</span>   <span class="comment"># 页面底部统计数量前是否显示文字描述（站点总字数、站点阅读时长）</span></span><br><span class="line"><span class="attr">  awl:</span> <span class="number">4</span>                   <span class="comment"># Average Word Length</span></span><br><span class="line"><span class="attr">  wpm:</span> <span class="number">275</span>                 <span class="comment"># Words Per Minute（每分钟阅读词数）</span></span><br></pre></td></tr></table></figure><p>其中awl的数值是设定多少字符统计为一个字（word）。wpm（Words Per Minute）是你的阅读速度，多少字（word）统计为阅读时长一分钟。纯中文博客腿甲设置awl=2，wpm=300，如果中英文都有，推荐设置为awl=4，wpm=275<br><img src="/posts/1188489975/wordcountandtime.png" alt="NexT 字数统计与阅读时间"></p><h2 id="增加搜索功能"><a href="#增加搜索功能" class="headerlink" title="增加搜索功能"></a>增加搜索功能</h2><p>NexT 支持集成 Swiftype、 微搜索、Local Search 和 Algolia。<br>Swiftype和Algolia需要付费使用，所以还是采用免费的的Local Search吧。<br>它的原理是通过hexo-generator-search插件在本地生成一个search.xml文件，搜索的时候从这个文件中根据关键字检索出相应的链接。<br>所以我们先安装hexo-generator-search。<br>注意不是 hexo-generator-searchdb，前者来自于 <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="external nofollow noopener">wzpan/hexo-generator-search</a>，而后者来自于 <a href="https://github.com/theme-next/hexo-generator-searchdb" target="_blank" rel="external nofollow noopener">theme-next/hexo-generator-searchdb</a>。后者是从前者fork产生的，所以hexo-generator-search<br>会更新一些。<br><img src="/posts/1188489975/fork.png" alt="NexT hexo-generator-search与hexo-generator-search的关系"><br>在博客的根目录下执行以下命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-search --save</span><br></pre></td></tr></table></figure><p>编辑站点配置文件，新增以下内容到任意位置：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">search:</span></span><br><span class="line"><span class="attr">  path:</span> <span class="string">search.xml</span></span><br><span class="line"><span class="attr">  field:</span> <span class="string">post</span></span><br><span class="line"><span class="attr">  content:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>path：索引文件的路径，相对于站点根目录<br>field：搜索范围，默认是 post，还可以选择 page、all，设置成 all 表示搜索所有页面<br>编辑主题配置文件，启用本地搜索功能：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Local search</span></span><br><span class="line"><span class="attr">local_search:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h2 id="RSS订阅"><a href="#RSS订阅" class="headerlink" title="RSS订阅"></a>RSS订阅</h2><p>安装插件：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-feed --save</span><br></pre></td></tr></table></figure><p>刷新主页就可以看到 rss。</p><h2 id="SEO设置"><a href="#SEO设置" class="headerlink" title="SEO设置"></a>SEO设置</h2><p>我们先测试搜索引擎是否已收录你的网站信息，输入<code>site:网址</code>就可以查看结果了</p><ul><li>编辑主题配置文件，启SEO功能的相关配置为true<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">canonical:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">seo:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">index_with_subtitle:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">baidu_push:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure></li></ul><p>baid_push为自动推送，如果想要主动推送需要插件hexo-baidu-url-submit插件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-baidu-url-submit --save</span><br></pre></td></tr></table></figure><p>安装完毕后，编辑站点配置文件,增加以下内容</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line"><span class="attr">- type:</span> <span class="string">git</span>                 <span class="comment"># 这是原来的</span></span><br><span class="line"><span class="attr">  repo:</span></span><br><span class="line"><span class="attr">    coding:</span> <span class="attr">https:</span></span><br><span class="line"><span class="attr">- type:</span> <span class="string">baidu_url_submitter</span> <span class="comment"># 这是新加入的</span></span><br><span class="line"></span><br><span class="line"><span class="attr">baidu_url_submit:</span></span><br><span class="line"><span class="attr">    count:</span> <span class="number">1</span>                <span class="comment"># 提交最新的一个链接</span></span><br><span class="line"><span class="attr">    host:</span> <span class="string">www.你的网址.com</span>   <span class="comment"># 在百度站长平台中注册的域名</span></span><br><span class="line"><span class="attr">    token:</span> <span class="string">your_token</span>       <span class="comment"># 请注意这是您的秘钥， 所以请不要把博客源代码发布在公众仓库里!</span></span><br><span class="line"><span class="attr">    path:</span> <span class="string">baidu_urls.txt</span>    <span class="comment"># 文本文档的地址， 新链接会保存在此文本文档里</span></span><br></pre></td></tr></table></figure><p>这样在执行hexo d时，会主动推送值百度</p><ul><li>生成Sitemap<br>Sitemap 可方便网站管理员通知搜索引擎他们网站上有哪些可供抓取的网页。首先安装Sitemap插件<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-sitemap --save</span><br><span class="line">npm install hexo-generator-baidu-sitemap --save</span><br></pre></td></tr></table></figure></li></ul><p>安装完毕后，编辑站点配置文件，增加以下内容</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">sitemap:</span> </span><br><span class="line"><span class="attr">  path:</span> <span class="string">sitemap.xml</span></span><br><span class="line"><span class="attr">baidusitemap:</span></span><br><span class="line"><span class="attr">  path:</span> <span class="string">baidusitemap.xml</span></span><br></pre></td></tr></table></figure><p>安装完成后执行<code>hexo clean &amp; hexo generate</code>即会在站点public目录下生成sitemap.xml和baidusitemap.xml。</p><ul><li>添加robots.txt<br>在博客目录/source/目录下新建robots.txt文件<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">User-agent: *</span><br><span class="line">Allow: /</span><br><span class="line">Allow: /archives/</span><br><span class="line">Allow: /categories/</span><br><span class="line">Allow: /tags/</span><br><span class="line">Allow: /about/</span><br><span class="line">Allow: /posts/</span><br><span class="line"></span><br><span class="line">Disallow: /images/</span><br><span class="line">Disallow: /js/</span><br><span class="line">Disallow: /css/</span><br><span class="line">Disallow: /fonts/</span><br><span class="line"></span><br><span class="line">Sitemap: https://doranbai.github.io/sitemap.xml</span><br><span class="line">Sitemap: https://doranbai.github.io/baidusitemap.xml</span><br></pre></td></tr></table></figure></li></ul><p>Allow字段的值即为允许搜索引擎爬区的内容，可以对应到主题配置文件中的menu目录配置，如果菜单栏还有其他选项都可以按照格式自行添加。<br>需要将<a href="https://doranbai.github.io改成自己的域名。" target="_blank" rel="external nofollow noopener">https://doranbai.github.io改成自己的域名。</a></p><ul><li>外链优化<br>当搜索引擎在爬取文章页面的时候，为避免爬虫抓取一些无意义的页面，影响爬虫抓取的效率，可以使用external nofollow标签来屏蔽这些链接<br>方法一:添加nofollow标签</li></ul><p>文件路径在 博客目录\themes\next\layout_macro 的 sidebar.swig 文件，将下面代码<br>Next6之后的某些版本自带这些修改</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&#123;&#123; link &#125;&#125;"</span> <span class="attr">target</span>=<span class="string">"_blank"</span>&gt;</span>&#123;&#123; name &#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">在a标签中添加 rel="external nofollow" 改成</span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&#123;&#123; link &#125;&#125;"</span> <span class="attr">target</span>=<span class="string">"_blank"</span> <span class="attr">rel</span>=<span class="string">"external nofollow"</span>&gt;</span>&#123;&#123; name &#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://creativecommons.org/licenses/&#123;&#123; theme.creative_commons &#125;&#125;/4.0"</span> <span class="attr">class</span>=<span class="string">"cc-opacity"</span> <span class="attr">target</span>=<span class="string">"_blank"</span>&gt;</span></span><br><span class="line">修改成</span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://creativecommons.org/licenses/&#123;&#123; theme.creative_commons &#125;&#125;/4.0"</span> <span class="attr">class</span>=<span class="string">"cc-opacity"</span> <span class="attr">target</span>=<span class="string">"_blank"</span> <span class="attr">rel</span>=<span class="string">"external nofollow"</span>&gt;</span></span><br></pre></td></tr></table></figure><p>新的版本已经找不到这些内容了，如果你的新版本找不到这些内容，那么就修改<br>博客根目录\themes\next\scripts\helpers\next-url.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (!theme.exturl) &#123;</span><br><span class="line">  <span class="comment">// Only for simple link need to rewrite/add attributes.</span></span><br><span class="line">  attrs.rel = <span class="string">'external nofollow noopener'</span>;             <span class="comment">//修改这一行，增加external nofollow</span></span><br><span class="line">  attrs.target = <span class="string">'_blank'</span>;</span><br></pre></td></tr></table></figure><p>博客根目录/node_modules/hexo/lib/plugins/filter/after_post_render/external_link.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="keyword">this</span>)</span><br><span class="line">  .attr(<span class="string">'target'</span>, <span class="string">'_blank'</span>)</span><br><span class="line">  .attr(<span class="string">'rel'</span>, <span class="string">'external nofollow noopener'</span>);</span><br></pre></td></tr></table></figure><p>方法二：采用外链加密<br>编辑主题配置文件，将exturl修改为true，即可打开外链加密博客目录\themes\next\scripts\helpers\next-url.js</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Automatically add external URL with Base64 encrypt &amp; decrypt.</span></span><br><span class="line"><span class="attr">exturl:</span> <span class="literal">true</span><span class="string">;</span></span><br></pre></td></tr></table></figure><h2 id="增加评论"><a href="#增加评论" class="headerlink" title="增加评论"></a>增加评论</h2><p>Hexo等静态博客的缺点就是没有后台，当然更没有数据库，所以Hexo必须借助一些第三方评论系统。Hexo的评论系统有很多，常见的有以下几个</p><ul><li>多说评论：停止服务</li><li>友言：停止服务</li><li>网易云跟帖：停止服务</li><li>搜狐畅言:<a href="http://changyan.kuaizhan.com" target="_blank" rel="external nofollow noopener">http://changyan.kuaizhan.com</a> 需要网站备案号</li><li>Disqus：<a href="https://disqus.com/" target="_blank" rel="external nofollow noopener">https://disqus.com/</a> 被墙</li><li>Gitment:<a href="https://github.com/imsun/gitment" target="_blank" rel="external nofollow noopener">https://github.com/imsun/gitment</a><br>基于github的issue实现的，只能用github账号登陆，作者也没有更新了</li><li>Hypercomments：<a href="https://www.hypercomments.com" target="_blank" rel="external nofollow noopener">https://www.hypercomments.com</a> 毛子出的评论系统，只能使用谷歌账号注册（评论不需要），中文只支持繁体，最重要的需要付费</li><li>Valine：<a href="https://github.com/xCss/Valine" target="_blank" rel="external nofollow noopener">https://github.com/xCss/Valine</a><br>基于Leancloud的快速、简洁且高效的无后端评论系统，使用国内后端云服务提供商 LeanCloud 提供的存储服务，所以需要注册一个Leancloud账号。里面分为开发版和商业版还有企业版，免费版有一定限制首先API请求每天30000，10GB的储存空间，此外博主进行回复时没有特殊标识。 （推荐）</li><li>来必力（LiveRe)：<a href="https://livere.com" target="_blank" rel="external nofollow noopener">https://livere.com</a> 思密达出的评论系统，支持多账号登录，City版免费，加载稍慢，评论无法导出 （推荐）<br>我选择了LiveRe，可以在底部看实际效果</li></ul><p>首先注册LiveRe，注册完成后登录进去。点击网页上的安装按钮<br><img src="/posts/1188489975/livereinstall.png" alt="LiveRe安装"><br>选择City版进行安装，City版是免费的，对我们这种个人博客而言完全足够了<br><img src="/posts/1188489975/installcity.png" alt="LiveRe安装city版"><br>接下来需要填写一些关于你想将LiveRe用于的博客的一些信息：<br><img src="/posts/1188489975/citygetcode.png" alt="LiveRe申请获取代码"><br>填完之后，申请获取代码，此时其将会给你一段代码，记录下data-uid，也可以在管理页面 -&gt; 代码管理 -&gt; 一般网站中找到你的data-uid<br>编辑主题配置文件，将data-uid填入到livere_uid</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">livere_uid:</span> <span class="comment"># &lt;your_uid&gt;</span></span><br></pre></td></tr></table></figure><p>评论系统配置完成，重新部署你的博客然后刷新页面就可以看到</p>]]></content>
      
      
      <categories>
          
          <category> BlogTips </category>
          
      </categories>
      
      
        <tags>
            
            <tag> GitHub </tag>
            
            <tag> Hexo </tag>
            
            <tag> 免费博客 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo详细配置与使用</title>
      <link href="/posts/894459533/"/>
      <url>/posts/894459533/</url>
      
        <content type="html"><![CDATA[<p>前面我们成功部署了博客，但是界面太粗糙了。现在我们要开始Hexo详细配置与使用。<br>Hexo博客配置文件就在博客根目录下_config.yml</p><h2 id="Hexo博客文件结构"><a href="#Hexo博客文件结构" class="headerlink" title="Hexo博客文件结构"></a>Hexo博客文件结构</h2><p>##博客基础信息配置</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Site</span></span><br><span class="line"><span class="attr">title:</span>       <span class="comment"># 博客名字</span></span><br><span class="line"><span class="attr">subtitle:</span>    <span class="comment"># 子标题</span></span><br><span class="line"><span class="attr">description:</span> <span class="comment"># 网站描述，可以写一句话</span></span><br><span class="line"><span class="attr">author:</span>      <span class="comment"># 作者名字</span></span><br><span class="line"><span class="attr">language:</span>    <span class="comment"># 语言zh-CN</span></span><br><span class="line"><span class="attr">timezone:</span>    <span class="comment"># 时区，不填写默认使用您计算机设置的时区，可以设置Asia/Shanghai</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># URL</span></span><br><span class="line"><span class="comment">## If your site is put in a subdirectory, set url as 'http://yoursite.com/child' and root as '/child/'</span></span><br><span class="line"><span class="attr">url:</span>  <span class="attr">http://yoursite.com</span>              <span class="comment"># 博客链接，如https://doranbai.github.io/，这个需要修改</span></span><br><span class="line"><span class="attr">root:</span> <span class="string">/</span>                                <span class="comment"># 博客根目录，可以不修改</span></span><br><span class="line"><span class="attr">permalink:</span> <span class="string">:year/:month/:day/:title/</span>   <span class="comment"># 文章的永久链接格式，可以不用修改</span></span><br><span class="line"><span class="attr">permalink_defaults:</span>                    <span class="comment"># 永久链接中各部分的默认值，可以不用修改</span></span><br></pre></td></tr></table></figure><a id="more"></a><p>如果需要做链接持久化，需要做一些修改，链接持久化的内容在后面。</p><h2 id="更换主题"><a href="#更换主题" class="headerlink" title="更换主题"></a>更换主题</h2><p>Hexo默认的主题为landscape主题。如果你觉得不好看，那么可以在Hexo官网<a href="https://hexo.io/themes/" target="_blank" rel="external nofollow noopener">https://hexo.io/themes/</a>的主题中，选择你喜欢的一个主题进行修改。这里我们已人气较高的NexT主题为例<br>首先我们需要下载主题</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> 你的博客目录</span><br><span class="line">git <span class="built_in">clone</span> https://github.com/theme-next/hexo-theme-next themes/next</span><br></pre></td></tr></table></figure><p>下载完成后，更改更改站点配置文件_config.yml 的theme字段，为主题文件夹的名称<br><img src="/posts/894459533/themeconfig.png" alt="主题配置"><br>有关NexT主题的详细配置，请参考我的下一篇文章,<a href="https://doranbai.github.io/posts/1188489975/">Hexo主题NexT详细配置</a></p><h2 id="创建博客"><a href="#创建博客" class="headerlink" title="创建博客"></a>创建博客</h2><p>可以执行下列命令来创建一篇新文章或者新的页面</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new <span class="string">"title名字"</span></span><br></pre></td></tr></table></figure><p>你会看到输出<code>INFO  Created:</code>的输出，同时在 <code>source/_post</code> 文件夹下多了所创建的.md文件。Hexo支持的是Markdown语法。<br>打开你的md文件，你会看到以下类似的内容，这些是 front-matter</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: titile名字</span><br><span class="line">date: 2019-08-21 10:42:16</span><br><span class="line">tags:</span><br><span class="line">---</span><br></pre></td></tr></table></figure><p>接着在后面添加你的内容。之后用<code>hexo g</code>和<code>hexo s</code>，然后打开<code>http://localhost:4000/</code>就可以在本地进行预览了。如果没有问题就可以用<code>hexo d</code>推送到GitHub上。</p><h2 id="图片插入"><a href="#图片插入" class="headerlink" title="图片插入"></a>图片插入</h2><p>如果你想在文章中增加图片，那么需要按照以下步骤进行配置</p><ul><li>修改博客目录下的_config.yml<br><img src="/posts/894459533/configasset.png" alt="修改post_asset_folder"></li><li>创建新的文章<br><code>hexo new &quot;title名字&quot;</code><br>这次会在同级的目录下生成一个同名的文件夹，这样就可以把与该文章相关的所有资源都放到此文件夹内，可以更方便的使用资源。</li><li>下载图片上传插件<br>打开Git Bash，执行以下命令<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> 你的博客目录</span><br><span class="line">npm install hexo-asset-image --save。</span><br></pre></td></tr></table></figure></li></ul><p><img src="/posts/894459533/hexo-asset-image.png" alt="修改hexo-asset-image"></p><ul><li>在Markdown引用图片<br>将所需要的图片资源放到同名文件夹之后，使用 markdown 语法插入相对路径的图片<br><code>![图片描述](目录名/图片名)</code><br>最后使用<code>hexo clean</code> -&gt; <code>hexo generate</code> -&gt; <code>hexo deploy</code> 将本地博客推送到远程，即可看到文章中的图片。</li></ul><h2 id="增加README-md"><a href="#增加README-md" class="headerlink" title="增加README.md"></a>增加README.md</h2><p>GitHub仓库中我们一般都会增加README.md文件，用于添加一些描述信息。<br>由于hexo默认会把所有source文件夹的md文件都转换成public文件夹的html。所以，如果我们直接在source文件夹中添加README.md,会被Hexo转换为README.html，所以我们需要修改配置</p><p>打开博客目录下的_config.yml 文件，找到 skip_render<br>skip_render 一般有以下四种常用参数：</p><ul><li><p>跳过source目录下的 test.html: <code>skip_render: test.html</code></p></li><li><p>跳过source目录下 test 文件夹内所有文件：<code>skip_render: test/*</code></p></li><li><p>跳过source目录下 test 文件夹内所有文件包括子文件夹以及子文件夹内的文件：<code>skip_render: test/**</code></p></li><li><p>跳过多个路径：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">skip_render:</span></span><br><span class="line"><span class="bullet"> -</span> <span class="string">test.html</span></span><br><span class="line"><span class="bullet"> -</span> <span class="string">test/*</span></span><br></pre></td></tr></table></figure><p>所以如果我们想要跳过source目录下README.md只需要按以下配置即可</p></li></ul><p><img src="/posts/894459533/skiprender.png" alt="README配置"></p><h2 id="链接持久化"><a href="#链接持久化" class="headerlink" title="链接持久化"></a>链接持久化</h2><p>在Hexo的默认配置中，生成的链接都是类似于<code>aaa.bb.com/2019/09/01/文章名</code>这种类型的链接。这种链接是根据文章生成的时间年、月、日和标题确定的。<br>这个配置是在博客配置文件_config.yml中</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">permalink:</span> <span class="string">:year/:month/:day/:title/</span></span><br></pre></td></tr></table></figure><p>如果博客的创建时间或者名字不小心改变了，那么原来的链接就会失效。所以这就是链接持久化的意义。在博客目录下执行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-abbrlink --save</span><br></pre></td></tr></table></figure><p>安装完成后，修改博客配置文件config.yml，修改并增加以下内容</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">permalink:</span> <span class="string">posts/:abbrlink/</span>   <span class="comment">#posts可以换成你想换的名字</span></span><br><span class="line"><span class="attr">abbrlink:</span></span><br><span class="line"><span class="attr">  alg:</span> <span class="string">crc32</span>  <span class="comment">#support crc16(default) and crc32，可以配置为crc16或者crc32</span></span><br><span class="line"><span class="attr">  rep:</span> <span class="string">dec</span>    <span class="comment">#support dec(default) and hex，可以配置为dec或者hex</span></span><br></pre></td></tr></table></figure><p>产生的链接类似下面的格式</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">crc16 &amp; hex</span><br><span class="line">https://post.zz173.com/posts/66c8.html</span><br><span class="line">crc16 &amp; dec</span><br><span class="line">https://post.zz173.com/posts/65535.html</span><br><span class="line">crc32 &amp; hex</span><br><span class="line">https://post.zz173.com/posts/8ddf18fb.html</span><br><span class="line">crc32 &amp; dec</span><br><span class="line">https://post.zz173.com/posts/1690090958.html</span><br></pre></td></tr></table></figure><p>配置完成完后，在md文件的Front-matter 内会增加abbrlink 字段，值为生成的ID 。这个字段不会随着创建日期date或标题title的修改而改变,从而使得链接地址持久化。</p><h2 id="博客备份"><a href="#博客备份" class="headerlink" title="博客备份"></a>博客备份</h2>]]></content>
      
      
      <categories>
          
          <category> BlogTips </category>
          
      </categories>
      
      
        <tags>
            
            <tag> GitHub </tag>
            
            <tag> Hexo </tag>
            
            <tag> 免费博客 </tag>
            
            <tag> NexT </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>使用GitHub和Hexo搭建免费个人博客</title>
      <link href="/posts/2755367820/"/>
      <url>/posts/2755367820/</url>
      
        <content type="html"><![CDATA[<h2 id="准备环境"><a href="#准备环境" class="headerlink" title="准备环境"></a>准备环境</h2><h3 id="安装git-for-windows"><a href="#安装git-for-windows" class="headerlink" title="安装git for windows"></a>安装git for windows</h3><p>此处省略……</p><h3 id="GitHub创建个人博客仓库"><a href="#GitHub创建个人博客仓库" class="headerlink" title="GitHub创建个人博客仓库"></a>GitHub创建个人博客仓库</h3><h4 id="首先需要拥有一个GitHub帐号"><a href="#首先需要拥有一个GitHub帐号" class="headerlink" title="首先需要拥有一个GitHub帐号"></a>首先需要拥有一个GitHub帐号</h4><p>进入<a href="https://github.com/" target="_blank" rel="external nofollow noopener">GitHub</a>注册</p><h4 id="新建仓库"><a href="#新建仓库" class="headerlink" title="新建仓库"></a>新建仓库</h4><p>创建一个和你用户名相同的仓库，后面加.github.io，也就是xxxx.github.io，其中xxx就是你注册GitHub的用户名。<br><img src="/posts/2755367820/githubpages.png" alt="GitHub Pages"></p><h3 id="安装Node-js"><a href="#安装Node-js" class="headerlink" title="安装Node.js"></a>安装Node.js</h3><p><a href="https://nodejs.org" target="_blank" rel="external nofollow noopener">Node.js官网</a> <a href="https://nodejs.org" target="_blank" rel="external nofollow noopener">https://nodejs.org</a> 下载对应平台的安装程序<br>在Windows上安装时务必选择全部组件，包括勾选Add to Path<br><img src="/posts/2755367820/nodejs%E5%AE%89%E8%A3%85.png" alt="nodejs安装配置"><br>安装完毕后，请打开git bash。<br>输入<code>node -v</code></p><a id="more"></a><p><img src="/posts/2755367820/node-v%E5%91%BD%E4%BB%A4.png" alt="node-v命令"></p><p>输入<code>npm-v</code></p><p><img src="/posts/2755367820/npm-v%E5%91%BD%E4%BB%A4.png" alt="npm-v命令"></p><p>如果能够正确的显示出版本号，证明安装成功！</p><p>npm是Node.js的包管理工具（package manager）。通过npm，用户可以方便的获取和使用第三方包，如hexo。</p><h3 id="安装Hexo"><a href="#安装Hexo" class="headerlink" title="安装Hexo"></a>安装Hexo</h3><p>在git bash中输入</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-cli -g</span><br></pre></td></tr></table></figure><p>用<code>hexo --version</code>查看一下版本</p><p><img src="/posts/2755367820/hexo--version%E5%91%BD%E4%BB%A4.png" alt="hexo --version命令"></p><p>至此，环境安装完成</p><h2 id="创建博客"><a href="#创建博客" class="headerlink" title="创建博客"></a>创建博客</h2><h3 id="首先创建自己的博客文件夹"><a href="#首先创建自己的博客文件夹" class="headerlink" title="首先创建自己的博客文件夹"></a>首先创建自己的博客文件夹</h3><p>如D:\blog，打开git bash进入该目录，使用<code>hexo init</code>初始化博客</p><p><img src="/posts/2755367820/hexo-init%E5%91%BD%E4%BB%A4.png" alt="hexo init命令"></p><p>初始化的过程是从 hexo 仓库下载博客的目录结构和文件，需要一定时间。</p><h3 id="安装依赖模块"><a href="#安装依赖模块" class="headerlink" title="安装依赖模块"></a>安装依赖模块</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install</span><br></pre></td></tr></table></figure><p><img src="/posts/2755367820/npminstall.png" alt="npm install命令"><br>安装完成后，我们查看一下目前的目录结构</p><p><img src="/posts/2755367820/mulu.png" alt="目录结构"></p><h3 id="生成静态页面"><a href="#生成静态页面" class="headerlink" title="生成静态页面"></a>生成静态页面</h3><p><code>hexo generate</code>或<code>hexo g</code></p><p><img src="/posts/2755367820/hexog.png" alt="hexo generate命令"></p><h3 id="本地验证。"><a href="#本地验证。" class="headerlink" title="本地验证。"></a>本地验证。</h3><p>命令行（即Git Bash）输入以下命令，运行即可：<code>hexo server</code>或<code>hexo s</code><br><img src="/posts/2755367820/hexos.png" alt="hexo server命令"><br>打开浏览器访问网址： <a href="http://localhost:4000/" target="_blank" rel="external nofollow noopener">http://localhost:4000/</a><br>至此，您的Hexo博客已经搭建在本地。使用ctrl+c可以把服务关掉。</p><h2 id="推送博客"><a href="#推送博客" class="headerlink" title="推送博客"></a>推送博客</h2><h3 id="修改-config-yml文件，增加以下内容"><a href="#修改-config-yml文件，增加以下内容" class="headerlink" title="修改_config.yml文件，增加以下内容"></a>修改_config.yml文件，增加以下内容</h3><p>repo需要配置为自己的地址</p><p><img src="/posts/2755367820/configgit.png" alt="配置自己的git"></p><h3 id="安装git-插件"><a href="#安装git-插件" class="headerlink" title="安装git 插件"></a>安装git 插件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><p><img src="/posts/2755367820/hexo-deployer-git.png" alt="hexo-deployer-git"></p><h3 id="推送"><a href="#推送" class="headerlink" title="推送"></a>推送</h3><p><code>hexo deploy</code>或<code>hexo d</code><br>现在可以打开你的个人博客了<a href="https://doranbai.github.io/">https://doranbai.github.io/</a></p>]]></content>
      
      
      <categories>
          
          <category> BlogTips </category>
          
      </categories>
      
      
        <tags>
            
            <tag> GitHub </tag>
            
            <tag> Hexo </tag>
            
            <tag> 免费博客 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
